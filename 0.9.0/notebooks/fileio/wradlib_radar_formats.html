

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Supported radar data formats &mdash; wradlib</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/wradlib.css" type="text/css" />
  

  

  
    <link rel="top" title="wradlib" href="../../index.html"/>
        <link rel="up" title="Data Input - Data Output" href="../fileio.html"/>
        <link rel="next" title="Handling DX Radar Data (German Weather Service)" href="wradlib_reading_dx.html"/>
        <link rel="prev" title="Data Input - Data Output" href="../fileio.html"/>
    
    <link href="../../_static/wradlib.css" rel="stylesheet" type="text/css">


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

  <a href="../../index.html" class="icon icon-home"> wradlib



</a>



  <div class="version">
    
    <button class="verbtn">0.9.0</button>
    <div class="version-content">
      
        <a href="../latest/">latest</a>
        <a href="../0.9.0/">0.9.0</a>
        <a href="../0.8.0/">0.8.0</a>
        <a href="../0.7.6/">0.7.6</a>
        <a href="../0.7.0/">0.7.0</a>
        <a href="../0.6.0/">0.6.0</a>
    </div>
  </div>



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../notebooks.html">Tutorials and Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../jupyter.html">How to use the tutorials and examples?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learnpython.html">An incomplete introduction to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics.html">Getting started with wradlib</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../fileio.html">Data Input - Data Output</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Overview over Radar DataFormats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#German-Weather-Service:-DX-format">German Weather Service: DX format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#German-Weather-Service:-RADOLAN-(quantitative)-composit">German Weather Service: RADOLAN (quantitative) composit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#HDF5">HDF5</a></li>
<li class="toctree-l4"><a class="reference internal" href="#NetCDF">NetCDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Gematronik-Rainbow">Gematronik Rainbow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#OPERA-BUFR">OPERA BUFR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wradlib_reading_dx.html">DWD DX Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../radolan/radolan_format.html">DWD RADOLAN Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib_generic_netcdf_example.html">Generic NetCDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib_load_rainbow_example.html">Gematronik Rainbow</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib_gis_export_example.html">GIS Export</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../attenuation/wradlib_attenuation.html">Attenuation correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../beamblockage/wradlib_beamblock.html">Beam Blockage Calculation using DEM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../classify.html">Clutter and Echo Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../georeferencing.html">Georeferencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interpolation/wradlib_ipol_example.html">How to use wradlib&#8217;s ipol module for interpolation tasks?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisensor/wradlib_adjust_example.html">Rain gauge adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification/wradlib_verify_example.html">Routine verification measures for radar-based precipitation estimates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recipes.html">Recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../radolan.html">RADOLAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zonalstats/wradlib_zonalstats_classes.html">Zonal Statistics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Library Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_setup.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zreferences.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">wradlib</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../notebooks.html">Tutorials and Examples</a> &raquo;</li>
      
          <li><a href="../fileio.html">Data Input - Data Output</a> &raquo;</li>
      
    <li>Supported radar data formats</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/notebooks/fileio/wradlib_radar_formats.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class^=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: #D84315;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Supported-radar-data-formats">
<h1>Supported radar data formats<a class="headerlink" href="#Supported-radar-data-formats" title="Permalink to this headline">¶</a></h1>
<p>The binary encoding of many radar products is a major obstacle for many
potential radar users. Often, decoder software is not easily available.
In case formats are documented, the implementation of decoders is a
major programming effort. This tutorial provides an overview of the data
formats currently supported by <span class="math">\(\omega radlib\)</span>. We seek to
continuously enhance the range of supported formats, so this document is
only a snapshot. If you need a specific file format to be supported by
<span class="math">\(\omega radlib\)</span>, please <a class="reference external" href="https://github.com/wradlib/wradlib/issues/new">raise an
issue</a> of type
<em>enhancement</em>. You can provide support by adding documents which help to
decode the format, e.g. format reference documents or software code in
other languages for decoding the format.</p>
<p>At the moment, <em>supported format</em> means that the radar format can be
read and further processed by wradlib. Normally, wradlib will return an
array of data values and a dictionary of metadata - if the file contains
any. wradlib does not support encoding to any specific file formats,
yet! This might change in the future, but it is not a priority. However,
you can use Python&#8217;s netCDF4 or h5py packages to encode the results of
your analysis to standard self-describing file formats such as netCDF or
hdf5.</p>
<p>In the following, we will provide an overview of file formats which can
be currently read by <span class="math">\(\omega radlib\)</span>. Reading weather radar files
is done via the
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/io.html">wradlib.io</a> module.
There you will find a complete function reference.</p>
<div class="section" id="German-Weather-Service:-DX-format">
<h2>German Weather Service: DX format<a class="headerlink" href="#German-Weather-Service:-DX-format" title="Permalink to this headline">¶</a></h2>
<p>The German Weather Service uses the DX file format to encode local radar
sweeps. DX data are in polar coordinates. The naming convention is as
follows:</p>
<pre>raa00-dx_&lt;location-id&gt;-&lt;YYMMDDHHMM&gt;-&lt;location-abreviation&gt;---bin</pre><p>or</p>
<pre>raa00-dx_&lt;location-id&gt;-&lt;YYYYMMDDHHMM&gt;-&lt;location-abreviation&gt;---bin</pre><p><a class="reference internal" href="wradlib_reading_dx.html"><span class="doc">Read and plot DX radar data from DWD</span></a>
provides an extensive introduction into working with DX data. For now,
we would just like to know how to read the data:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;dx/raa00-dx_10908-0806021655-fbg---bin.gz&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">readDX</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">data</span></code> is a two dimensional array of shape (number of azimuth
angles, number of range gates). This means that the number of rows of
the array corresponds to the number of azimuth angles of the radar sweep
while the number of columns corresponds to the number of range gates per
ray.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
(360, 128)
[&#39;elev&#39;, &#39;dopplerfilter&#39;, &#39;bytes&#39;, &#39;cluttermap&#39;, &#39;datetime&#39;, &#39;elevprofile&#39;, &#39;version&#39;, &#39;clutter&#39;, &#39;producttype&#39;, &#39;message&#39;, &#39;azim&#39;, &#39;radarid&#39;, &#39;statfilter&#39;]
</pre></div></div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">plot_cg_ppi</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="../../_images/notebooks_fileio_wradlib_radar_formats_10_0.png" src="../../_images/notebooks_fileio_wradlib_radar_formats_10_0.png" />
</div>
</div>
</div>
<div class="section" id="German-Weather-Service:-RADOLAN-(quantitative)-composit">
<h2>German Weather Service: RADOLAN (quantitative) composit<a class="headerlink" href="#German-Weather-Service:-RADOLAN-(quantitative)-composit" title="Permalink to this headline">¶</a></h2>
<p>The quantitative composite format of the DWD (German Weather Service)
was established in the course of the <a class="reference external" href="https://www.dwd.de/RADOLAN">RADOLAN
project</a>. Most quantitative composite
products from the DWD are distributed in this format, e.g. the R-series
(RX, RY, RH, RW, ...), the S-series (SQ, SH, SF, ...), and the E-series
(European quantitative composite, e.g. EZ, EH, EB). Please see the
<a class="reference external" href="https://www.dwd.de/DE/leistungen/radolan/radolan_info/radolan_radvor_op_komposit_format_pdf.pdf?__blob=publicationFile&amp;v=5">composite format
description</a>
for a full reference and a full table of products (unfortunately only in
German language). An extensive section covering many RADOLAN aspects is
here: <a class="reference internal" href="../radolan.html"><span class="doc">RADOLAN</span></a></p>
<p>Currently, the RADOLAN composites have a spatial resolution of 1km x
1km, with the national composits (R- and S-series) being 900 x 900
grids, and the European composits 1500 x 1400 grids. The projection is
<a class="reference external" href="../radolan/radolan-grid.ipynb#Polar-Stereographic-Projection">polar-stereographic</a>.
The products can be read by the following function:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;radolan/misc/raa01-rw_10000-1408102050-dwd---bin.gz&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_RADOLAN_composite</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">data</span></code> is a two dimensional integer array of shape (number of
rows, number of columns). Different product types might need different
levels of postprocessing, e.g. if the product contains rain rates or
accumulations, you will normally have to divide data by factor 10.
<code class="docutils literal"><span class="pre">metadata</span></code> is again a dictionary which provides metadata from the
files header section, e.g. using the keys <em>producttype</em>, <em>datetime</em>,
<em>intervalseconds</em>, <em>nodataflag</em>.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
(900, 900)
[&#39;maxrange&#39;, &#39;producttype&#39;, &#39;nrow&#39;, &#39;intervalseconds&#39;, &#39;cluttermask&#39;, &#39;precision&#39;, &#39;datetime&#39;, &#39;ncol&#39;, &#39;radolanversion&#39;, &#39;radarlocations&#39;, &#39;nodataflag&#39;, &#39;datasize&#39;, &#39;radarid&#39;, &#39;secondary&#39;]
</pre></div></div>
</div>
<p>Masking the NoData (or missing) values can be done by:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="n">maskeddata</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked_equal</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;nodataflag&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="c1"># get coordinates</span>
<span class="n">radolan_grid_xy</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">georef</span><span class="o">.</span><span class="n">get_radolan_grid</span><span class="p">(</span><span class="mi">900</span><span class="p">,</span><span class="mi">900</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">radolan_grid_xy</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">radolan_grid_xy</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># create quick plot with colorbar and title</span>
<span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">pl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">maskeddata</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[8]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.collections.QuadMesh at 0x7fcc2ace0f90&gt;
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="container">
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.figure.Figure at 0x7fcc2ae7b390&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="../../_images/notebooks_fileio_wradlib_radar_formats_18_2.png" src="../../_images/notebooks_fileio_wradlib_radar_formats_18_2.png" />
</div>
</div>
</div>
<div class="section" id="HDF5">
<h2>HDF5<a class="headerlink" href="#HDF5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="OPERA-HDF5-(ODIM_H5)">
<h3>OPERA HDF5 (ODIM_H5)<a class="headerlink" href="#OPERA-HDF5-(ODIM_H5)" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.hdfgroup.org/HDF5/">HDF5</a> is a data model, library, and
file format for storing and managing data. The <a class="reference external" href="http://www.eumetnet.eu/opera">OPERA 3
program</a> developed a convention (or
information model) on how to store and exchange radar data in hdf5
format. It is based on the work of <a class="reference external" href="http://www.smhi.se/hfa_coord/cost717">COST Action
717</a> and is used e.g. in
real-time operations in the Nordic European countries. The OPERA Data
and Information Model (ODIM) is documented e.g. in this
<a class="reference external" href="https://www.eol.ucar.edu/system/files/OPERA_2008_03_WP2.1b_ODIM_H5_v2.1.pdf">report</a>
and in a <a class="reference external" href="http://www.eumetnet.eu/sites/default/files/OPERA_2008_18_WP2.1b_ODIM_UML.pdf">UML
representation</a>.
Make use of these documents in order to understand the organization of
OPERA hdf5 files!</p>
<p>The hierarchical nature of HDF5 can be described as being similar to
directories, files, and links on a hard-drive. Actual metadata are
stored as so-called <em>attributes</em>, and these attributes are organized
together in so-called <em>groups</em>. Binary data are stored as so-called
<em>datasets</em>. As for ODIM_H5, the <code class="docutils literal"><span class="pre">root</span></code> (or top level) group contains
three groups of metadata: these are called <code class="docutils literal"><span class="pre">what</span></code> (object, information
model version, and date/time information), <code class="docutils literal"><span class="pre">where</span></code> (geographical
information), and <code class="docutils literal"><span class="pre">how</span></code> (quality and optional/recommended metadata).
For a very simple product, e.g. a CAPPI, the data is organized in a
group called <code class="docutils literal"><span class="pre">dataset1</span></code> which contains another group called <code class="docutils literal"><span class="pre">data1</span></code>
where the actual binary data are found in <code class="docutils literal"><span class="pre">data</span></code>. In analogy with a
file system on a hard-disk, the HDF5 file containing this simple product
is organized like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span>
<span class="o">/</span><span class="n">what</span>
<span class="o">/</span><span class="n">where</span>
<span class="o">/</span><span class="n">how</span>
<span class="o">/</span><span class="n">dataset1</span>
<span class="o">/</span><span class="n">dataset1</span><span class="o">/</span><span class="n">data1</span>
<span class="o">/</span><span class="n">dataset1</span><span class="o">/</span><span class="n">data1</span><span class="o">/</span><span class="n">data</span>
</pre></div>
</div>
<p>The philosophy behind the <span class="math">\(\omega radlib\)</span> interface to OPERA&#8217;s
data model is very straightforward: <span class="math">\(\omega radlib\)</span> simply
translates the complete file structure to <em>one</em> dictionary and returns
this dictionary to the user. Thus, the potential complexity of the
stored data is kept and it is left to the user how to proceed with this
data. The keys of the output dictionary are strings that correspond to
the &#8220;directory trees&#8221; shown above. Each key ending with <code class="docutils literal"><span class="pre">/data</span></code> points
to a Dataset (i.e. a numpy array of data). Each key ending with
<code class="docutils literal"><span class="pre">/what</span></code>, <code class="docutils literal"><span class="pre">/where</span></code> or <code class="docutils literal"><span class="pre">/how</span></code> points to another dictionary of
metadata. The entire output can be obtained by:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;hdf5/knmi_polar_volume.h5&#39;</span><span class="p">)</span>
<span class="n">fcontent</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_OPERA_hdf5</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The user should inspect the output obtained from his or her hdf5 file in
order to see how access those items which should be further processed.
In order to get a readable overview of the output dictionary, one can
use the pretty printing module:</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="c1"># which keyswords can be used to access the content?</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="c1"># print the entire content including values of data and metadata</span>
<span class="c1"># (numpy arrays will not be entirely printed)</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;dataset1/data1/data&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
[u&#39;dataset14/where&#39;, u&#39;dataset5/data1/what&#39;, u&#39;dataset12/data1/what&#39;, u&#39;dataset10/where&#39;, u&#39;dataset1/what&#39;, u&#39;dataset3/data1/data&#39;, u&#39;dataset8/where&#39;, u&#39;dataset5/where&#39;, u&#39;dataset10/data1/what&#39;, u&#39;dataset13/data1/data&#39;, u&#39;dataset8/data1/data&#39;, u&#39;dataset4/what&#39;, u&#39;dataset2/data1/data&#39;, u&#39;dataset9/data1/what&#39;, u&#39;dataset2/what&#39;, u&#39;dataset7/where&#39;, u&#39;dataset4/where&#39;, u&#39;dataset1/data1/what&#39;, u&#39;dataset14/data1/what&#39;, u&#39;dataset6/where&#39;, u&#39;dataset8/data1/what&#39;, u&#39;dataset13/where&#39;, u&#39;dataset6/data1/what&#39;, u&#39;dataset7/data1/what&#39;, u&#39;dataset11/where&#39;, u&#39;dataset3/data1/what&#39;, u&#39;dataset13/data1/what&#39;, u&#39;dataset7/data1/data&#39;, u&#39;dataset9/where&#39;, u&#39;dataset12/data1/data&#39;, u&#39;dataset5/what&#39;, u&#39;dataset8/what&#39;, u&#39;dataset9/data1/data&#39;, u&#39;dataset6/data1/data&#39;, u&#39;dataset11/data1/what&#39;, u&#39;dataset14/what&#39;, u&#39;dataset13/what&#39;, u&#39;what&#39;, u&#39;dataset3/what&#39;, u&#39;dataset2/where&#39;, u&#39;dataset12/where&#39;, u&#39;dataset9/what&#39;, u&#39;dataset1/data1/data&#39;, u&#39;dataset4/data1/data&#39;, u&#39;dataset5/data1/data&#39;, u&#39;dataset3/where&#39;, u&#39;dataset2/data1/what&#39;, u&#39;dataset7/what&#39;, u&#39;dataset10/data1/data&#39;, u&#39;dataset10/what&#39;, u&#39;dataset11/data1/data&#39;, u&#39;dataset1/where&#39;, u&#39;dataset12/what&#39;, u&#39;dataset4/data1/what&#39;, u&#39;dataset6/what&#39;, u&#39;where&#39;, u&#39;dataset11/what&#39;, u&#39;dataset14/data1/data&#39;]
[[107  97  47 ...,   0   0   0]
 [111 112  45 ...,   0   0   0]
 [134 147  87 ...,   0   0   0]
 ...,
 [109  91  37 ...,   0   0   0]
 [109  91  45 ...,   0   0   0]
 [107 100  40 ...,   0   0   0]]
</pre></div></div>
</div>
<p>Please note that in order to experiment with such datasets, you can
download hdf5 sample data from the <a class="reference external" href="http://www.eumetnet.eu/odyssey-opera-data-centre">Odyssey
page</a> of the <a class="reference external" href="http://www.eumetnet.eu/opera">OPERA
3 homepage</a> or use the example data
provided with the
<a class="reference external" href="https://github.com/wradlib/wradlib-data/">wradlib-data</a> repository.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">plot_cg_ppi</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;dataset1/data1/data&#39;</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="../../_images/notebooks_fileio_wradlib_radar_formats_26_0.png" src="../../_images/notebooks_fileio_wradlib_radar_formats_26_0.png" />
</div>
</div>
</div>
<div class="section" id="GAMIC-HDF5">
<h3>GAMIC HDF5<a class="headerlink" href="#GAMIC-HDF5" title="Permalink to this headline">¶</a></h3>
<p>GAMIC refers to the commercial <a class="reference external" href="https://www.gamic.com">GAMIC Enigma MURAN
software</a> which exports data in hdf5 format.
The concept is quite similar to the above [OPERA HDF5
(ODIM_H5)](#OPERA-HDF5-(ODIM_H5%29) format. Such a file (typical
ending: <em>.mvol</em>) can be read by:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;hdf5/2014-08-10--182000.ppi.mvol&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_GAMIC_hdf5</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>While metadata represents the usual dictionary of metadata, the data
variable is a dictionary which might contain several numpy arrays with
the keywords of the dictionary indicating different moments.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;VOL&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;SCAN0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
[&#39;VOL&#39;, u&#39;SCAN0&#39;]
{&#39;Latitude&#39;: 50.730519999999999, &#39;Longitude&#39;: 7.071663, &#39;Height&#39;: 99.5}
[u&#39;unfolding&#39;, u&#39;range_samples&#39;, &#39;el&#39;, &#39;Time&#39;, u&#39;azi_start&#39;, &#39;az&#39;, u&#39;PRF&#39;, u&#39;angle_step&#39;, u&#39;bin_count&#39;, u&#39;scan_speed&#39;, u&#39;ray_count&#39;, u&#39;time_samples&#39;, &#39;max_range&#39;, u&#39;range_start&#39;, u&#39;elevation&#39;, u&#39;angle_sync&#39;, &#39;bin_range&#39;, u&#39;output64&#39;, u&#39;range_step&#39;, u&#39;azi_stop&#39;, u&#39;filter&#39;, u&#39;range&#39;, &#39;r&#39;, &#39;zero_index&#39;, u&#39;half_resolution&#39;, u&#39;pulse_width&#39;, u&#39;radar_wave_length&#39;]
</pre></div></div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SCAN0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SCAN0&#39;</span><span class="p">][</span><span class="s1">&#39;PHIDP&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SCAN0&#39;</span><span class="p">][</span><span class="s1">&#39;PHIDP&#39;</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
[u&#39;PHIDP&#39;, u&#39;ZH&#39;, u&#39;VV&#39;, u&#39;VH&#39;, u&#39;UV&#39;, u&#39;WH&#39;, u&#39;WV&#39;, u&#39;UH&#39;, u&#39;RHOHV&#39;, u&#39;ZV&#39;, u&#39;ZDR&#39;, u&#39;KDP&#39;]
[&#39;dyn_range_max&#39;, &#39;data&#39;, &#39;dyn_range_min&#39;]
(360, 1000)
</pre></div></div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">plot_cg_ppi</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SCAN0&#39;</span><span class="p">][</span><span class="s1">&#39;ZH&#39;</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="../../_images/notebooks_fileio_wradlib_radar_formats_33_0.png" src="../../_images/notebooks_fileio_wradlib_radar_formats_33_0.png" />
</div>
</div>
</div>
<div class="section" id="Generic-HDF5">
<h3>Generic HDF5<a class="headerlink" href="#Generic-HDF5" title="Permalink to this headline">¶</a></h3>
<p>This is a generic hdf5 reader, which will read any hdf5 structure.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;hdf5/2014-08-10--182000.ppi.mvol&#39;</span><span class="p">)</span>
<span class="n">fcontent</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_generic_hdf5</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
[u&#39;scan0/what&#39;, u&#39;scan0/moment_9&#39;, u&#39;scan0/moment_8&#39;, u&#39;what&#39;, u&#39;scan0/moment_3&#39;, u&#39;scan0/moment_2&#39;, u&#39;scan0/moment_1&#39;, u&#39;scan0/moment_0&#39;, u&#39;scan0/moment_7&#39;, u&#39;scan0/moment_6&#39;, u&#39;scan0/moment_5&#39;, u&#39;scan0/moment_4&#39;, u&#39;scan0/ray_header&#39;, u&#39;how&#39;, u&#39;scan0/moment_11&#39;, u&#39;scan0/moment_10&#39;, u&#39;scan0/how&#39;, u&#39;scan0/how/extended&#39;, u&#39;where&#39;]
</pre></div></div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;where&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;how&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;scan0/moment_3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;scan0/moment_3&#39;</span><span class="p">][</span><span class="s1">&#39;attrs&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;scan0/moment_3&#39;</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
{&#39;attrs&#39;: {u&#39;lat&#39;: 50.730519999999999, u&#39;lon&#39;: 7.071663, u&#39;height&#39;: 99.5}}
{&#39;attrs&#39;: {u&#39;site_name&#39;: &#39;12345&#39;, u&#39;template_name&#39;: &#39;ppi_1p5deg&#39;, u&#39;azimuth_beam&#39;: 1.0, u&#39;elevation_beam&#39;: 1.0, u&#39;host_name&#39;: &#39;radar.meteo.uni-bonn.de&#39;, u&#39;sdp_name&#39;: &#39;ENIGMA III DUALPOL&#39;, u&#39;software&#39;: &#39;MURAN&#39;}}
[&#39;data&#39;, &#39;attrs&#39;]
{u&#39;dyn_range_max&#39;: 95.5, u&#39;moment&#39;: &#39;UH&#39;, u&#39;dyn_range_min&#39;: -32.0, u&#39;format&#39;: &#39;UV8&#39;}
(360, 1000)
</pre></div></div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">plot_cg_ppi</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;scan0/moment_3&#39;</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="../../_images/notebooks_fileio_wradlib_radar_formats_39_0.png" src="../../_images/notebooks_fileio_wradlib_radar_formats_39_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="NetCDF">
<h2>NetCDF<a class="headerlink" href="#NetCDF" title="Permalink to this headline">¶</a></h2>
<p>The NetCDF format also claims to be self-describing. However, as for all
such formats, the developers of netCDF also admit that &#8220;[...] the mere
use of netCDF is not sufficient to make data self-describing and
meaningful to both humans and machines [...]&#8221; (see
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/documentation/historic/netcdf/Conventions.html">here</a>.
Different radar operators or data distributors will use different naming
conventions and data hierarchies (i.e. &#8220;data models&#8221;) that the reading
program might need to know about.</p>
<p><span class="math">\(\omega radlib\)</span> provides two solutions to address this challenge.
The first one ignores the concept of data models and just pulls all data
and metadata from a NetCDF file
(<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_generic_netcdf.html">wradlib.io.read_generic_netcdf()</a>.
The second is designed for a specific data model used by the EDGE
software
(<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_EDGE_netcdf.html">wradlib.io.read_EDGE_netcdf()</a>).</p>
<div class="section" id="Generic-NetCDF-reader-(includes-CfRadial)">
<h3>Generic NetCDF reader (includes CfRadial)<a class="headerlink" href="#Generic-NetCDF-reader-(includes-CfRadial)" title="Permalink to this headline">¶</a></h3>
<p><span class="math">\(\omega radlib\)</span> provides a function that will virtually read any
NetCDF file irrespective of the data model:
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_generic_netcdf.html">wradlib.io.read_generic_netcdf()</a>.
It is built upon Python&#8217;s
<a class="reference external" href="https://unidata.github.io/netcdf4-python/">netcdf4</a> library.
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_generic_netcdf.html">wradlib.io.read_generic_netcdf()</a>
will return only one object, a dictionary, that contains all the
contents of the NetCDF file corresponding to the original file
structure. This includes all the metadata, as well as the so called
&#8220;dimensions&#8221; (describing the dimensions of the actual data arrays) and
the &#8220;variables&#8221; which will contains the actual data. Users can use this
dictionary at will in order to query data and metadata; however, they
should make sure to consider the documentation of the corresponding data
model.
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_generic_netcdf.html">wradlib.io.read_generic_netcdf()</a>
has been shown to work with a lot of different data models, most notably
<strong>CfRadial</strong> (see
<a class="reference external" href="http://www.ral.ucar.edu/projects/titan/docs/radial_formats/cfradial.html">here</a>
for details). A typical call to
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_generic_netcdf.html">wradlib.io.read_generic_netcdf()</a>
would look like:</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;netcdf/example_cfradial_ppi.nc&#39;</span><span class="p">)</span>
<span class="n">outdict</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_generic_netcdf</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">outdict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
file_format
comment
title
Conventions
source
version
references
instrument_name
institution
field_names
history
dimensions
variables
</pre></div></div>
</div>
<p>Please see <a class="reference internal" href="wradlib_generic_netcdf_example.html"><span class="doc">this example
notebook</span></a> to get started.</p>
</div>
<div class="section" id="EDGE-NetCDF">
<h3>EDGE NetCDF<a class="headerlink" href="#EDGE-NetCDF" title="Permalink to this headline">¶</a></h3>
<p>EDGE is a commercial software for radar control and data analysis
provided by the Enterprise Electronics Corporation. It allows for netCDF
data export. The resulting files can be read by
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_generic_netcdf.html">wradlib.io.read_generic_netcdf()</a>,
but <span class="math">\(\omega radlib\)</span> also provides a specific function,
<a class="reference external" href="http://wradlib.org/wradlib-docs/0.9.0/generated/wradlib.io.read_EDGE_netcdf.html">wradlib.io.read_EDGE_netcdf()</a>
to return metadata and data as seperate objects:</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;netcdf/edge_netcdf.nc&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_EDGE_netcdf</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
(360, 240)
[&#39;max_range&#39;, u&#39;PulseWidth-value&#39;, u&#39;MissingData&#39;, u&#39;ColorMap-unit&#39;, u&#39;Latitude&#39;, u&#39;radarName-value&#39;, &#39;az&#39;, u&#39;PRF-value&#39;, u&#39;Elevation&#39;, u&#39;radarName-unit&#39;, u&#39;NyquistVelocity-unit&#39;, u&#39;RadarParameters&#39;, u&#39;TypeName&#39;, u&#39;RangeFolded&#39;, &#39;r&#39;, u&#39;ConversionPlugin&#39;, u&#39;MaximumRange-unit&#39;, u&#39;NyquistVelocity-value&#39;, u&#39;FractionalTime&#39;, u&#39;Longitude&#39;, u&#39;MaximumRange-value&#39;, u&#39;vcp-value&#39;, u&#39;PRF-unit&#39;, u&#39;DataType&#39;, &#39;sitecoords&#39;, u&#39;ColorMap-value&#39;, u&#39;Height&#39;, u&#39;PulseWidth-unit&#39;, &#39;time&#39;, u&#39;ElevationUnits&#39;, u&#39;attributes&#39;, u&#39;vcp-unit&#39;]
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Gematronik-Rainbow">
<h2>Gematronik Rainbow<a class="headerlink" href="#Gematronik-Rainbow" title="Permalink to this headline">¶</a></h2>
<p>Rainbow refers to the commercial <a class="reference external" href="http://www.de.selex-es.com/capabilities/meteorology/products/components/rainbow5">RAINBOW®5 APPLICATION
SOFTWARE</a>
which exports data in an XML flavour, which due to binary data blobs
violates XML standard. Gematronik provided python code for implementing
this reader in <span class="math">\(\omega radlib\)</span>, which is very much appreciated.</p>
<p>The philosophy behind the <span class="math">\(\omega radlib\)</span> interface to Gematroniks
data model is very straightforward: <span class="math">\(\omega radlib\)</span> simply
translates the complete xml file structure to <em>one</em> dictionary and
returns this dictionary to the user. Thus, the potential complexity of
the stored data is kept and it is left to the user how to proceed with
this data. The keys of the output dictionary are strings that correspond
to the &#8220;xml nodes&#8221; and &#8220;xml attributes&#8221;. Each <code class="docutils literal"><span class="pre">data</span></code> key points to a
Dataset (i.e. a numpy array of data). Such a file (typical ending:
<em>.vol</em> or <em>.azi</em>) can be read by:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">get_wradlib_data_file</span><span class="p">(</span><span class="s1">&#39;rainbow/2013070308340000dBuZ.azi&#39;</span><span class="p">)</span>
<span class="n">fcontent</span> <span class="o">=</span> <span class="n">wrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_Rainbow</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The user should inspect the output obtained from his or her Rainbow file
in order to see how access those items which should be further
processed. In order to get a readable overview of the output dictionary,
one can use the pretty printing module:</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="c1"># which keyswords can be used to access the content?</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="c1"># print the entire content including values of data and metadata</span>
<span class="c1"># (numpy arrays will not be entirely printed)</span>
<span class="k">print</span><span class="p">(</span><span class="n">fcontent</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">][</span><span class="s1">&#39;sensorinfo&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
[u&#39;volume&#39;]
OrderedDict([(u&#39;@type&#39;, u&#39;rainscanner&#39;), (u&#39;@id&#39;, u&#39;WUE&#39;), (u&#39;@name&#39;, u&#39;Wuestebach&#39;), (u&#39;lon&#39;, u&#39;6.330970&#39;), (u&#39;lat&#39;, u&#39;50.504900&#39;), (u&#39;alt&#39;, u&#39;0.000000&#39;), (u&#39;wavelen&#39;, u&#39;0.05&#39;), (u&#39;beamwidth&#39;, u&#39;1&#39;)])
</pre></div></div>
</div>
<p>You can check this <a class="reference internal" href="wradlib_load_rainbow_example.html"><span class="doc">example
notebook</span></a> for getting a first
impression.</p>
</div>
<div class="section" id="OPERA-BUFR">
<h2>OPERA BUFR<a class="headerlink" href="#OPERA-BUFR" title="Permalink to this headline">¶</a></h2>
<p><strong>WARNING</strong> <span class="math">\(\omega radlib\)</span> does currently not support the BUFR
format!</p>
<p>The Binary Universal Form for the Representation of meteorological data
(BUFR) is a binary data format maintained by the World Meteorological
Organization (WMO).</p>
<p>The BUFR format was adopted by <a class="reference external" href="https://www.eumetnet.eu/opera">OPERA</a>
for the representation of weather radar data. A BUFR file consists of a
set of <em>descriptors</em> which contain all the relevant metadata and a data
section. The <em>descriptors</em> are identified as a tuple of three integers.
The meaning of these tupels is described in the so-called BUFR tables.
There are generic BUFR tables provided by the WMO, but it is also
possible to define so called <em>local tables</em> - which was done by the
OPERA consortium for the purpose of radar data representation.</p>
<p>If you want to use BUFR files together with <span class="math">\(\omega radlib\)</span>, we
recommend that you check out the <a class="reference external" href="http://www.eumetnet.eu/opera-software">OPERA software
webpage</a> where you will find
software for BUFR decoding. In particular, you might want to check out
<a class="reference external" href="http://www.eumetnet.eu/sites/default/files/bufr-opera-mf-1.21.tar_.gz">this
tool</a>
which seems to support the conversion of OPERA BUFR files to ODIM_H5
(which is supported by <span class="math">\(\omega radlib\)</span>). However, you have to
build it yourself.</p>
<p>It would be great if someone could add a tutorial on how to use OPERA
BUFR software together with <span class="math">\(\omega radlib\)</span>!</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wradlib_reading_dx.html" class="btn btn-neutral float-right" title="Handling DX Radar Data (German Weather Service)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../fileio.html" class="btn btn-neutral" title="Data Input - Data Output" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2016, wradlib developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.9.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>